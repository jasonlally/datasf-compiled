<!DOCTYPE html>
<html lang="en">

  <head>
  <!-- Basic ================================================== -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <!-- Mobile ================================================== -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  
  <!-- Title and meta description================================================== -->
  <title>Automation Services</title>
  <meta name="description" content="Our mission is to empower use of the City and County of San Francisco's data. Our core product is SF OpenData, the official open data portal.">
  <!--<link rel="canonical" href="https://datasf.org/publishing/services/">-->
  
  <!-- Open Graph and Author Metas================================================== -->
  
  	<!-- Open Graph -->
	<meta property="og:locale" content="en_US">
	<meta property="og:type" content="article">
	<meta property="og:title" content="Automation Services">
	
	<meta property="og:url" content="https://datasf.org/publishing/services/">
	
	<meta property="og:site_name" content="DataSF">
	<!-- Twitter Cards -->
	<meta name="twitter:title" content="Automation Services">
	
	<meta name="twitter:site" content="@datasf">
	<meta name="twitter:creator" content="@datasf">
	
	<meta name="twitter:card" content="summary">
	<meta name="twitter:image:src" content="https://datasf.org/assets/img/">
	
	
  
  
  <!-- Custom Fonts ================================================== -->
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Alegreya:400italic,700italic,400,700|Montserrat:400,700' rel='stylesheet' type='text/css'>
  
  <!-- CSS ================================================== -->
  <link rel="stylesheet" href="/assets/css/vendor.css">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/syntax.css">
  <link rel="stylesheet" href="/assets/js/vendor/DataTables-1.10.7/Plugins-1.10.7/integration/bootstrap/3/dataTables.bootstrap.css">
  
  <!--[if lte IE 9]><script src="/assets/js/vendor/aight/aight.min.js"></script><![endif]-->
  <!-- D3 for charting (only need this on some pages -->
  <script src="/assets/js/vendor/d3.js"></script>

  <!--[if IE 8]><script src="/assets/js/vendor/aight/d3/d3.ie8.js"></script><![endif]-->
  
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  
  <!-- Scripts ================================================== -->
  <script src="/assets/js/vendor/modernizr.custom.94053.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-53975719-3', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>

  
   <body  class="has-subnav" >
    <div class="nav-group navbar-fixed-top  navbar-shrink ">
  <div class="navbar navbar-mini navbar-static-top visible-sm visible-md visible-lg" role="region" aria-label="external links">
    <div class="container">
      <div class="collapse navbar-collapse" id="navbar-collapse-2">
        <ul class="nav navbar-nav navbar-right">
            
          <li class="">
            <a class=" " href="https://www.sfgov.org">SFGov</a>
          </li>
            
          <li class="">
            <a class=" " href="/coordinators/">Coordinator's Portal</a>
          </li>
            
          <li class="">
            <a class=" " href="/about/">About</a>
          </li>
            
          <li class="">
            <a class=" " href="http://support.datasf.org">Help</a>
          </li>
          
        </ul>
      </div>
    </div>
  </div>
  <nav class="navbar navbar-default navbar-static-top">
    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header page-scroll">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand page-scroll" href="/"><span class="brand"><span class="brand-highlight">Data</span>SF</span></a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right">
            
          <li class="">
            <a class="  ext-sf-opendata " href="https://data.sfgov.org">Data Catalog</a>
          </li>
            
          <li class="">
            <a class=" " href="/showcase/">Showcase</a>
          </li>
            
          <li class="active">
            <a class="active " href="/publishing/">Publishing</a>
          </li>
            
          <li class="">
            <a class=" " href="/academy/">Academy</a>
          </li>
            
          <li class="">
            <a class=" " href="/resources/">Resources</a>
          </li>
            
          <li class="">
            <a class=" " href="/blog/">Blog</a>
          </li>
          
            
          <script>
          </script>
          <li class=" visible-xs utility-nav">
            <a class=" " href="https://www.sfgov.org">SFGov</a>
          </li>
            
          <script>
          </script>
          <li class=" visible-xs utility-nav">
            <a class=" " href="/coordinators/">Coordinator's Portal</a>
          </li>
            
          <script>
          </script>
          <li class=" visible-xs utility-nav">
            <a class=" " href="/about/">About</a>
          </li>
            
          <script>
          </script>
          <li class=" visible-xs utility-nav">
            <a class=" " href="http://support.datasf.org">Help</a>
          </li>
          
        </ul>
      </div>
      <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
  </nav>
  
  <div class="navbar navbar-subnav navbar-static-top visible-sm visible-md visible-lg" role="region" aria-label="external links">
    <div class="container">
      <div class="collapse navbar-collapse" id="navbar-collapse-3">
        <ul class="nav navbar-nav navbar-right">
            
          <li class="">
            <a class=" " href="/publishing/">Publishing Submission</a>
          </li>
            
          <li class="">
            <a class=" " href="/publishing/submission-guidelines/">Submission Guidelines</a>
          </li>
            
          <li class="">
            <a class=" " href="/publishing/guidelines/">Publishing Guidelines</a>
          </li>
            
          <li class="active">
            <a class="active " href="/publishing/services/">Automation Services</a>
          </li>
            
          <li class="">
            <a class=" " href="/publishing/plans/">Plans</a>
          </li>
          
          
        </ul>
      </div>
    </div>
  </div>
  
</div>
    <section id="article">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 section-heading-wrapper">
        <h1 class="section-heading bg-line">Automation Services</h1> 
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-md-push-8 sidebar">
        <div class="toc-wrap visible-md-block visible-lg-block">
          <h2>In this article</h2>
          <div id="article-toc"></div>
        </div>
      </div>
      <article class="wrap article" itemscope itemtype="http://schema.org/Article">
        <div class="col-md-8 col-md-pull-4">
          <h2 id="why-automate-data-publishing">Why Automate Data Publishing</h2>
<p>Data is most valuable when it is timely and recent. But manually updating data is time-consuming, resource-intensive, and prone to error. As a result, we prefer automation and provide a set of services to help automate the publication of data.</p>

<h2 id="how-to-obtain-automation-support">How to Obtain Automation Support</h2>
<p>The best way to obtain automation support is to fill out the <a href="http://datasf.org/publishing/">open data publishing intake form</a>. There are several ways to publish a dataset. Based on <a href="/publishing">your submission</a>, the DataSF team will help you pick the best method for your data. You do not have to figure out how you’ll publish before you fill out the form.</p>

<h2 id="what-is-automation">What is Automation</h2>
<p>The <a href="http://datasf.org/about">open data team</a> provides central automation support where appropriate that can either connect to a read only table or view in your data system over a secure connection (this is preferred) or pick up data dropped regularly at a secure FTP site. Direct connections allow us to set up more robust automated notifications and reduce the number of potential failure points in the publishing chain. Automation out of the source system can be scheduled off business hours to avoid unnecessary load. Central automation also makes it easier to monitor the system-wide health of dataset publishing.</p>

<p>We will provide more detailed support and training through the publishing process, especially if you have not been exposed to our central automation services. However, we understand you may appreciate a preview of the publishing methods and what’s involved. The following outline the primary methods. Over time, we will likely add options and best practices as the open data program scales.</p>

<h2 id="manual-publishing-options">Manual publishing options</h2>
<p>We don’t recommend manual publishing updates. But in certain cases this option does make sense (e.g. if the frequency of updates are low, the costs of automation are likely not justified). Historic, static and annually updated datasets are usually good candidates for manual updates. For manual updates, we will send automated notifications to the data steward to make sure the data are updated at the service level indicated in the dataset’s metadata. While the dataset updates may not be automated, we will monitor the status of publishing updates in an automated fashion. You can learn more about how to upload data manually <a href="http://support.datasf.org/customer/en/portal/articles/2234233-manually-uploading-data-on-the-open-data-portal">on the DataSF knowledge base</a>.</p>

<h2 id="automation-services">Automation Services</h2>
<p>This is a bit more involved in the beginning, but automation services are designed to save time and aid in monitoring data publishing across the enterprise. The open data team uses <a href="http://www.safe.com/">Safe FME</a> to automate publishing. FME provides a desktop authoring environment and server to run automated jobs that can connect to various data systems and formats, run transformations, and load the data into the portal. This process is generally referred to as Extract-Transform-Load (or ETL).</p>

<p>When deploying automation services, the open data team works closely with technical staff (data custodians) and data stewards to define the appropriate views (often created as stored SQL queries or procedures depending on the system), develop a secure connection and review the data in the portal rigorously before publishing. Through the process, the appropriate transformations, quality checks, and notifications are set up and the department representatives are involved at each step, including giving the green light for publishing. Central automation also gets you some additional great benefits like:</p>

<ul>
  <li>Automatic geocoding (where well formed addresses or consistent block and lot can be provided) - allowing the creation of point based maps</li>
  <li>Automatic geo-obfuscation - if you don’t want addresses available to the data user for privacy reasons, the data can be assigned to another level of geography, like street segment, Census block or tract, neighborhood or supervisor district</li>
  <li>Automatic geo-assignment - similar to the above, you can use an address to assign geographic boundaries and add it as a new column in the dataset (e.g. supervisor districts and neighborhoods)</li>
</ul>

<h2 id="example-data-transformation-services">Example data transformation services</h2>
<p>Through automation services described in the previous section, a series of data transformation services can be applied. Below are examples of various transformations applied to datasets.</p>

<h3 id="field-transformations">Field transformations</h3>

<ul>
  <li><strong>Format dates.</strong> Take a date formatted as a string and output a properly encoded</li>
  <li><strong>Convert string case.</strong> For example, take a field encoded in all capital letters and turn it into lowercase or title case.</li>
  <li><strong>Lookup definition (joins).</strong> Join a reference dataset to include a definition column for a common code</li>
</ul>

<h3 id="geographic-transformations">Geographic transformations</h3>

<ul>
  <li><strong>Generate coordinates.</strong> Take an input location field like an address or parcel and generate a latitude or longitude point for mapping</li>
  <li><strong>Append geographic boundary.</strong> Based on location, add columns indicating a boundary that a location falls within. Examples include:
    <ul>
      <li>Supervisor District</li>
      <li>Neighborhood</li>
      <li>Census Boundary</li>
    </ul>
  </li>
</ul>

<h2 id="advanced-automation">Advanced Automation</h2>
<p>On a case by case basis, we may determine that a different automated method is more appropriate. The ETL process above is robust across many different contexts, but there may be opportunity to develop processes that push data directly to the platform using the platform’s <a href="http://dev.socrata.com/publishers/getting-started.html">available Publisher API</a> or other emerging toolkits. For example, in cases where streaming or near real-time data is involved, we may need a different approach. Based on <a href="https://data.sfgov.org/City-Management-and-Ethics/Dataset-Inventory/y8fp-fbf5">the dataset inventory</a>, these kinds of data are rare. We welcome opportunities to explore these kinds of integrations, but expect them to be larger efforts requiring more upfront commitment from the partner department.</p>

<h2 id="phased-publishing">Phased Publishing</h2>
<p>In some cases, the demand will outstrip the supply of automation service support. We may elect to publish a dataset manually first to be responsive and add the dataset to the queue for automation. Regardless, the Publisher’s Packet is still essential and much of the work to get ready for automation can be done by the department before the automation is in place. This will happen on a case by case basis, and we’ll guide you through this if this option is the most appropriate. We will attempt to avoid this, but we want to remain flexible to the needs of departments across the City, while balancing against available resources.</p>

        </div>
      </article>
    </div>
  </div>
  </div>
</section>
    <footer>
  <div class="container extra-links">
    <div class="row text-center">
      <div class="col-md-4">

      </div>
      <div class="col-md-4">
        
        <ul class="list-inline social-buttons">
          
          <li><a href="http://twitter.com/datasf"><i class="fa fa-twitter"></i></a>
          </li>
          
          <li><a href="http://opendata.stackexchange.com/search?q=san+francisco"><i class="fa fa-stack-overflow"></i></a>
          </li>
          
          <li><a href="http://github.com/datasf"><i class="fa fa-github"></i></a>
          </li>
          
        </ul>
        
      </div>
      <div class="col-md-4">
        <ul class="list-inline quicklinks">

        </ul>
      </div>
    </div>
  </div>
  <div class="footer-content-wrapper">
    <div class="container">
      <div class="row">
        <div class="col-sm-3 col-md-4 left-border-dotted">
          <ul class="list-unstyled quick-links">
              
              <li class="">
                <a class="  ext-sf-opendata " href="https://data.sfgov.org">Data Catalog</a>
              </li>
              
              <li class="">
                <a class=" " href="/showcase/">Showcase</a>
              </li>
              
              <li class="active">
                <a class="active " href="/publishing/">Publishing</a>
              </li>
              
              <li class="">
                <a class=" " href="/academy/">Academy</a>
              </li>
              
              <li class="">
                <a class=" " href="/resources/">Resources</a>
              </li>
              
              <li class="">
                <a class=" " href="/blog/">Blog</a>
              </li>
            
            
              <li style="margin-top: 15px;"><a href="/privacy/">Privacy Policy</a></li>
            
          </ul>
        </div>
        <div class="col-md-6 mission">
          <p>DataSF's mission is to empower use of data. We seek to transform the way the City works through the use of data. We believe use of data and evidence can improve our operations and the services we provide. This ultimately leads to increased quality of life and work for San Francisco residents, employers, employees and visitors. <a href="/about">Learn more about our work.</a></p>
        </div>
      </div>
    </div>
  </div>
  
  <div class="text-center made-in">
    Made with <i class="fa fa-heart"><span class="sr-only">heart</span></i> in San Francisco
  </div>
  
</footer>
    <!-- jQuery Version 1.11.3 -->
<script src="/assets/js/vendor/jquery-1.11.3.min.js"></script>
<!-- Bootstrap Core JavaScript -->
<script src="/assets/js/vendor/bootstrap.min.js"></script>

<!-- Plugin JavaScript -->
<script src="/assets/js/vendor/jquery.easing.min.js"></script>
<script src="/assets/js/vendor/jquery.validate.min.js"></script>
<script src="/assets/js/vendor/DataTables-1.10.7/media/js/jquery.dataTables.min.js"></script>
<script src="/assets/js/vendor/DataTables-1.10.7/Plugins-1.10.7/integration/bootstrap/3/dataTables.bootstrap.min.js"></script>
<script src="/assets/js/vendor/jsrender.min.js"></script>

<script src="/assets/js/vendor/toc.js"></script>




<script src="/assets/js/vendor/c3.js"></script>
<script src="/assets/js/vendor/moment.js"></script>
<script src="/assets/js/vendor/selectize.min.js"></script>

<!-- utilities -->
<script src="/assets/js/vendor/toTitleCase.js"></script>

<!-- Custom site JavaScript -->
<script src="/assets/js/datasf.js"></script>

<!-- Custom page JS -->
<script src="/assets/js/publishing.js"></script>


    </body>
</html>
